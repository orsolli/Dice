{
	"folders": [
		{
			"path": "../.."
		}
	],
	"settings": {
		"C_Cpp.default.includePath": [
			"${workspaceFolder}/**",
			"~/.steam/steam/steamapps/common/Leadwerks/Include/**"
		],
		"files.associations": {
			"new": "cpp"
		},
	},
	"extensions": {
		"recommendations": [
			"ms-vscode.cpptools",
			"devCAT.lua-debug"
		]
	},
	"launch": {
		"version": "2.0.0",
		"configurations": [
			{
				"name": "Launch C++ debugger",
				"type": "cppdbg",
				"request": "launch",
				"program": "${workspaceRoot}/Dice",
				"args": [
					"-devmode",
				],
				"environment": [
					{
						"name": "LD_LIBRARY_PATH",
						"value": "${workspaceRoot}:${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Library/Linux:${LD_LIBRARY_PATH}"
					},
					{
						"name": "DEBUG",
						"value": "1"
					},
					{
						"name": "LUA_PATH",
						"value": ";;./?.lua;/usr/share/lua/5.1/?.lua;/usr/share/lua/5.1/?/init.lua;"
					},
					{
						"name": "LUA_CPATH",
						"value": "./?.so;/usr/local/lib/lua/5.1/?.so;/usr/share/lua/5.1/?.so;"
					}
				],
				"cwd": "${workspaceRoot}",
				"preLaunchTask": "Docker build"
			},
			{
				"name": "Start Lua debugger",
				"type": "lua",
				"request": "attach",
				"workingDirectory": "${workspaceRoot}",
				"listenPort": 56789,
				"listenPublicly": false,
				"presentation": {
					"hidden": true
				}
			}
		],
		"compounds": [
			{
				"name": "Debug Lua",
				"configurations": [
					"Start Lua debugger",
					"Launch C++ debugger"
				]
			}
		]
	},
	"tasks": {
		"version": "2.0.0",
		"tasks": [
			{
				"label": "Build debug",
				"type": "cppbuild",
				"command": "/usr/bin/c++",
				"args": [
					"-fdiagnostics-color=always",
					"-std=c++0x",
					"-Wall",
					"-fexceptions",
					"-msse3",
					"-DDG_DISABLE_ASSERT",
					"-DZLIB",
					"-DPLATFORM_LINUX",
					"-D_NEWTON_STATIC_LIB",
					"-DFT2_BUILD_LIBRARY",
					"-DOPENGL",
					"-Dunix",
					"-D__STEAM__",
					"-D_POSIX_VER",
					"-D_POSIX_VER_64",
					"-DDG_THREAD_EMULATION",
					"-D_STATICLIB",
					"-DDG_USE_THREAD_EMULATION",
					"-DGL_GLEXT_PROTOTYPES",
					"-DLEADWERKS_3_1",
					"-DLUA_USE_LINUX",
					"-D_GLIBCXX_USE_CXX11_ABI=1",
					"-D_CUSTOM_JOINTS_STATIC_LIB",
					"-g",
					"-DDEBUG",
					"-D_DEBUG",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/VHACD/src/VHACD_Lib/inc",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dMath",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dgNewton",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dContainers",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dgCore",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dgTimeTracker",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dgPhysics",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dCustomJoints",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/tolua++-1.0.93/include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/lua-5.1.4",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/freetype-2.4.7/include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/enet-1.3.1/include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/RecastNavigation/DebugUtils/Include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/RecastNavigation/Detour/Include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/RecastNavigation/DetourCrowd/Include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/RecastNavigation/DetourTileCache/Include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/RecastNavigation/Recast/Include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/libvorbis/include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/packages/thirdParty/timeTracker",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/libvorbis/lib",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/libogg/include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/zlib-1.2.5",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/zlib-1.2.5/contrib/minizip",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/freetype-2.4.7/include/freetype",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/freetype-2.4.7/include/freetype/config",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/LuaJIT/dynasm",
					"-I",
					"~/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/glew-1.6.0/include",
					"${workspaceFolder}/Source/App.cpp",
					"${workspaceFolder}/Source/main.cpp",
					"~/.steam/steam/steamapps/common/Leadwerks/Library/Linux/Debug/Leadwerks.a",
					"-ldl",
					"-lopenal",
					"-lGL",
					"-lGLU",
					"-Wl,-E",
					"~/.steam/steam/steamapps/common/Leadwerks/Library/Linux/libluajit.a",
					"~/.steam/steam/steamapps/common/Leadwerks/Library/Linux/libsteam_api.so",
					"-lX11",
					"-lXext",
					"-lXrender",
					"-lXft",
					"-lpthread",
					"-lcurl",
					"~/.steam/steam/steamapps/common/Leadwerks/Library/Linux/libopenvr_api.so",
					"-o",
					"${workspaceFolder}/Dice",
				],
				"options": {
					"cwd": "${fileDirname}"
				},
				"problemMatcher": [
					"$gcc"
				],
				"group": "build",
				"detail": "compile with /usr/bin/g++. Does not work on Ubuntu 20.04. Use `Docker build`"
			},
			{
				"label": "Docker build",
				"type": "shell",
				"command": "docker",
				"dependsOn": "Build docker builder image",
				"args": [
					"run",
					"--rm",
					"-it",
					"-u",
					"1000:1000",
					"-v",
					"${workspaceFolder}:${workspaceFolder}",
					"-v",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks:${env:HOME}/.steam/steam/steamapps/common/Leadwerks:ro",
					"leadwerks-builder",
					"/usr/bin/g++",
					"-fdiagnostics-color=always",
					"-std=c++0x",
					"-Wall",
					"-fexceptions",
					"-msse3",
					"-DDG_DISABLE_ASSERT",
					"-DZLIB",
					"-DPLATFORM_LINUX",
					"-D_NEWTON_STATIC_LIB",
					"-DFT2_BUILD_LIBRARY",
					"-DOPENGL",
					"-Dunix",
					"-D__STEAM__",
					"-D_POSIX_VER",
					"-D_POSIX_VER_64",
					"-DDG_THREAD_EMULATION",
					"-D_STATICLIB",
					"-DDG_USE_THREAD_EMULATION",
					"-DGL_GLEXT_PROTOTYPES",
					"-DLEADWERKS_3_1",
					"-DLUA_USE_LINUX",
					"-D_GLIBCXX_USE_CXX11_ABI=1",
					"-D_CUSTOM_JOINTS_STATIC_LIB",
					"-g",
					"-DDEBUG",
					"-D_DEBUG",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/VHACD/src/VHACD_Lib/inc",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dMath",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dgNewton",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dContainers",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dgCore",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dgTimeTracker",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dgPhysics",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/sdk/dCustomJoints",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/tolua++-1.0.93/include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/lua-5.1.4",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/freetype-2.4.7/include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/enet-1.3.1/include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/RecastNavigation/DebugUtils/Include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/RecastNavigation/Detour/Include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/RecastNavigation/DetourCrowd/Include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/RecastNavigation/DetourTileCache/Include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/RecastNavigation/Recast/Include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/libvorbis/include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/NewtonDynamics/packages/thirdParty/timeTracker",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/libvorbis/lib",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/libogg/include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/zlib-1.2.5",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/zlib-1.2.5/contrib/minizip",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/freetype-2.4.7/include/freetype",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/freetype-2.4.7/include/freetype/config",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/LuaJIT/dynasm",
					"-I",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Include/Libraries/glew-1.6.0/include",
					"${workspaceFolder}/Source/App.cpp",
					"${workspaceFolder}/Source/main.cpp",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Library/Linux/Debug/Leadwerks.a",
					"-ldl",
					"-lopenal",
					"-lGL",
					"-lGLU",
					"-Wl,-E",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Library/Linux/libluajit.a",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Library/Linux/libsteam_api.so",
					"-lX11",
					"-lXext",
					"-lXrender",
					"-lXft",
					"-lpthread",
					"-lcurl",
					"${env:HOME}/.steam/steam/steamapps/common/Leadwerks/Library/Linux/libopenvr_api.so",
					"-o",
					"${workspaceFolder}/Dice",
				],
				"problemMatcher": [
					"$gcc"
				],
				"group": "build",
				"detail": "compile in docker"
			},
			{
				"label": "Build docker builder image",
				"type": "shell",
				"command": "docker",
				"args": [
					"build",
					"-f",
					"${workspaceFolder}/Projects/Linux/Dockerfile",
					"-t",
					"leadwerks-builder",
					"${workspaceFolder}",
				],
				"group": "none",
				"detail": "Build docker image"
			}
		]
	}
}